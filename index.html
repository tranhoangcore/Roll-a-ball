<!DOCTYPE html>
<html>
<head>
	<title>Roll a ball</title>
	<script src="lib/glMatrix-0.9.5.min.js"></script>
	<script src="lib/webgl-utils.js"></script>
	<script src="lib/cuon-matrix.js"></script>
	<script src="lib/ground.js"></script>
	<script src="lib/camera.js"></script>
	<script src="lib/target.js"></script>
	<script src="lib/ball.js"></script>
	<script id="vshader" type="x-shader/x-vertex">
		attribute vec4 aPosition;
		attribute vec2 aTextureCoord;
		attribute vec4 aNormal;

		uniform mat4 uPMatrix;
		uniform mat4 uVMatrix;
		uniform mat4 uMMatrix;
		uniform mat4 uNMatrix;

		uniform vec3 uLightDirection;

		varying vec2 vTextureCoord;
		varying vec3 vLightWeighting;

		void main() {
			gl_Position = uPMatrix * uVMatrix * uMMatrix * aPosition;
			vec4 normal = uNMatrix * aNormal;
			float nDotL = max(dot(uLightDirection, normalize(normal.xyz)), 0.0);
			vLightWeighting = vec3(0.8, 0.8, 0.8) + vec3(1, 1, 1) *nDotL;
			vTextureCoord = aTextureCoord;
		}
	</script>
	<script id="fshader" type="x-shader/x-fragment">
		precision mediump float;

		uniform sampler2D uSampler;

		varying vec2 vTextureCoord;
		varying vec3 vLightWeighting;

		void main() {
			vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
			gl_FragColor = vec4(textureColor.rgb * vLightWeighting, textureColor.a);
		}
	</script>
	<style type="text/css">
		#my_canvas, #scoreBoard {
			position: absolute;
			left: 0;
			top: 0;
		}
	</style>
</head>
<body onload="webGL();">
	<canvas id="rollABall" width="600" height="600"></canvas>
	<canvas id="scoreBoard" width="600" height="600"></canvas>
	<script src="app.js"></script>
</script>
</body>
</html> 